const openPopUp=document.getElementsByClassName("open-pop-up"),popUpClose=document.getElementById("popUpClose"),popUp=document.getElementById("popUp"),popUpBackGr=document.getElementById("popUpBackground"),popUpBody=document.getElementById("popUpBody"),popUpName=document.getElementById("popUpName"),popUpEmail=document.getElementById("popUpEmail"),popUpActive=document.getElementById("popUpActive"),popUpButton=document.getElementById("popUpButton");for(let p=0;p<openPopUp.length;p++)openPopUp[p].addEventListener("click",function(p){popUp.classList.add("pop-up_active"),popUpBackGr.classList.add("pop-up-background_active"),popUpBody.classList.add("pop-up_body_active")});popUpClose.addEventListener("click",function(){popUp.classList.remove("pop-up_active"),popUpBackGr.classList.remove("pop-up-background_active"),popUpBody.classList.remove("pop-up_body_active")}),document.addEventListener("keydown",function(p){27===p.keyCode&&(popUp.classList.remove("pop-up_active"),popUpBackGr.classList.remove("pop-up-background_active"),popUpBody.classList.remove("pop-up_body_active"))}),popUpBackGr.addEventListener("click",function(p){popUp.classList.remove("pop-up_active"),popUpBackGr.classList.remove("pop-up-background_active"),popUpBody.classList.remove("pop-up_body_active")}),popUpButton.addEventListener("click",p=>{p.preventDefault();const e=document.getElementsByClassName("pop-up_form-name")[0],o=document.getElementsByClassName("pop-up_form-email")[0],t=document.getElementsByClassName("pop-up_form-activity")[0],a=document.getElementsByClassName("pop-up-checkbox")[0],c=e.value,s=o.value,i=t.value,n=a.checked;let d=!0;if(""===s||""===s.replace(/[0-9@.]/gi,"")||""===s.replace(/[^.]/gi,""))d=!1;else{let p=0;for(let e=0;e<s.length;e++){if("@"===s[e]&&(p++,""===s[e+1]||void 0===s[e+1])){d=!1;break}if("."===s[e]&&(0===e||e===s.length-1)){d=!1;break}}1!==p&&(d=!1)}let m=!0;""===c.replace(/[a-zA-Zа-яА-Я]/gi,"")&&""!==c||(m=!1);let l=!0;i||(l=!1),!0===m&&!0===d&&!0===l&&function(){const p={name:c,email:s,activity:i,checkbox:n};fetch("./service/formProcessing.php",{method:"POST",headers:{"Content-Type":"application/json;charset=utf-8"},body:JSON.stringify(p)}).then(p=>{if(p.ok)popUp.classList.remove("pop-up_active"),popUpBackGr.classList.remove("pop-up-background_active"),popUpBody.classList.remove("pop-up_body_active");else{popUpName.classList.add("pop-up_form-name_active-error"),popUpEmail.classList.add("pop-up_form-email_active-error"),popUpActive.classList.add("pop-up_form-activity_active-error");const p=document.getElementById("popUpCheckbox");p.classList.add("pop-up_checkbox_active");const e=document.getElementById("popUpButton");e.classList.add("pop-up_button_active");const o=document.getElementById("popUpHeader");o.classList.add("pop-up_header_active");const t=document.getElementById("popUpErrorText");t.classList.add("pop-up_error-status_active")}})}(),m?popUpName.classList.remove("pop-up_form-name_active"):popUpName.classList.add("pop-up_form-name_active"),d?popUpEmail.classList.remove("pop-up_form-email_active"):popUpEmail.classList.add("pop-up_form-email_active"),l?popUpActive.classList.remove("pop-up_form-activity_active"):popUpActive.classList.add("pop-up_form-activity_active")});